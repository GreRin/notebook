<p-toast></p-toast>
<div class="card">
    <p-table #dt [value]="currentUser">
        <ng-template pTemplate="header">
            <tr>
                <th>Name</th>
                <th>Birth</th>
                <th>Phone</th>
                <th>Email</th>
                <th>Adress</th>
                <th>ZIP</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
            <tr>
                <td>{{ user.name }}</td>
                <td>{{ user.birth }}</td>
                <td>
                    <tr>
                        <td>{{ user.phone1 }}</td>
                    </tr>
                    <tr>
                        <td>{{ user.phone2 }}</td>
                    </tr>
                </td>
                <td>
                    <tr>
                        <td>{{ user.email1 }}</td>
                    </tr>
                    <tr>
                        <td>{{ user.email2 }}</td>
                    </tr>
                </td>
                <td>{{ user.adress }}</td>
                <td>{{ user.postcode }}</td>
                <td>
                    <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success p-mr-2" (click)="editUser()"></button>
                    <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="deleteUser()"></button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>

<p-dialog [(visible)]="userForm" [style]="{width: '450px'}" header="User Details" [modal]="submitted" styleClass="p-fluid">   
    <ng-template pTemplate="content">
        <form [formGroup]="editUserForm" validate (ngSubmit)="onSubmit(editUserForm.value)">
            <div class="ui-fluid">
                <div class="p-fluid p-formgrid p-grid">
                    <div class="p-field p-col">
                        <div class="p-inputgroup">
                            <input type="text" pInputText id="name" formControlName="name" autofocus />
                            <small class="p-invalid" *ngIf="submitted && !name">Name is required.</small>       
                        </div>
                    </div>
                    <div class="p-field p-col">
                        <div class="p-inputgroup">
                            <input type="text" pInputText id="birth" formControlName="birth"/>  
                        </div>
                    </div>
                </div>
    
                <div class="p-grid p-fluid">
                    <div class="p-col-6 p-md-6">
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon"><p-checkbox></p-checkbox></span>
                            <input type="text" pInputText formControlName="phone1">
                            <small class="p-invalid" *ngIf="submitted && !phone1">First phone is required.</small>     
                        </div>
                    </div>
                    <div class="p-col-6 p-md-6">
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon"><p-checkbox></p-checkbox></span>
                            <input type="text" pInputText formControlName="phone2">
                            <small class="p-invalid" *ngIf="submitted && !phone2">Second phone is required.</small>       
                        </div>
                    </div>
                </div>
    
            <div class="p-grid p-fluid">
                <div class="p-col-12 p-md-12">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon"><p-checkbox></p-checkbox></span>
                        <input type="text" pInputText formControlName="email1">
                        <small class="p-invalid" *ngIf="submitted && email1">First email is required.</small>       
                    </div>
                </div>
            </div>
    
            <div class="p-grid p-fluid">
                <div class="p-col-12 p-md-12">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon"><p-checkbox></p-checkbox></span>
                        <input type="text" pInputText formControlName="email2">
                        <small class="p-invalid" *ngIf="submitted && !email2">Second email is required.</small>         
                    </div>
                </div>
            </div>
    
            <div class="p-grid p-fluid">
                <div class="p-col-8 p-md-8">
                    <div class="p-inputgroup">
                        <input type="text" pInputText formControlName="adress">         
                    </div>
                </div>
                <div class="p-col-4 p-md-4" style="padding: 0.5rem !important;">
                    <div class="p-inputgroup">
                        <input type="text" pInputText formControlName="postcode">         
                    </div>
                </div>
            </div>
          </div>
        </form>
    </ng-template> 
    <ng-template pTemplate="footer">
        <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="hideForm()"></button>
        <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="saveForm()"></button>
    </ng-template>
</p-dialog>

<p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>
